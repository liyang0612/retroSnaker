function start(){for(var e=0;e<entry.rows;e++){entry.boxArr[e]=new Array;for(var n=0;n<entry.cols;n++){entry.boxArr[e][n]=e*entry.cols+n;var a=document.createElement("div");entry.boxArr[e][n]==randomS[0]?(entry.snakeHead[0]=randomS[0],a.className="snake"):entry.boxArr[e][n]==randomS[1]?(a.className="food",entry.foodId=entry.boxArr[e][n]):a.className="block",a.id=e*entry.cols+n,a.style.top=20*e+"px",a.style.left=20*n+"px",entry.snakeBox.appendChild(a)}}}function move(){switch(entry.oldSnakeHead=entry.snakeHead[0],entry.keyValueGo){case 37:entry.newSnakeHead=entry.snakeHead[0]-1;break;case 38:entry.newSnakeHead=entry.snakeHead[0]-entry.cols;break;case 39:entry.newSnakeHead=entry.snakeHead[0]+1;break;case 40:entry.newSnakeHead=entry.snakeHead[0]+entry.cols}if(entry.foodXY.x=document.getElementById(entry.foodId).offsetLeft,entry.foodXY.y=document.getElementById(entry.foodId).offsetTop,entry.snakeHeadXY.x=document.getElementById(entry.newSnakeHead).offsetLeft,entry.snakeHeadXY.y=document.getElementById(entry.newSnakeHead).offsetTop,entry.foodXY.x==entry.snakeHeadXY.x&&entry.foodXY.y==entry.snakeHeadXY.y){var e=entry.snakeHead;e.unshift(entry.newSnakeHead),console.log(e);for(var n=0;n<e.length;n++)document.getElementById(e[n]).className="snake"}else{console.log(entry.newSnakeHead,entry.snakeHead[0]);var a=entry.snakeHead;a.pop();var e=a;e.unshift(entry.newSnakeHead);for(var n=0;n<e.length;n++)document.getElementById(e[n]).className="snake";entry.oldSnakeHead!=entry.newSnakeHead&&(document.getElementById(entry.oldSnakeHead).className="block")}}function randomSnake(){for(var e=[],n=0;n<2;){var a=Math.floor(20*Math.random()*30);e[n]=a,n++}return e}var entry={snakeBox:document.getElementById("snake-box"),snakeHead:[],oldSnakeHead:"",newSnakeHead:"",keyVluaeGo:"",keyVluae:"",settime:"",rows:20,cols:30,foodId:"",snakeHeadXY:{x:0,y:0},foodXY:{x:0,y:0},boxArr:[]},randomS=randomSnake();start(),window.document.onkeydown=function(e){var e=e||window.event;entry.keyValue=e.keyCode,entry.keyValue<=40&&entry.keyValue>=37&&(37==entry.keyValue&&39!=entry.keyValueGo&&(entry.keyValueGo=37,move()),38==entry.keyValue&&40!=entry.keyValueGo&&(entry.keyValueGo=38,move()),39==entry.keyValue&&37!=entry.keyValueGo&&(entry.keyValueGo=39,move()),40==entry.keyValue&&38!=entry.keyValueGo&&(entry.keyValueGo=40,move()))};